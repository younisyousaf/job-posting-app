{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/prisma-starter/job-posting-app/app/jobs/%5Bid%5D/ApplyButton.tsx"],"sourcesContent":["\"use client\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/router\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst ApplyButton = ({ jobId }: { jobId: string }) => {\r\n\tconst router = useRouter();\r\n\tconst { data: session, status } = useSession();\r\n\tconst [errorMessage, setErrorMessage] = useState<string>(\"\");\r\n\tconst [applicationStatus, setApplicationStatus] = useState<\r\n\t\t\"idle\" | \"success\" | \"error\"\r\n\t>(\"idle\");\r\n\tconst handleApply = async () => {\r\n\t\tif (!session) {\r\n\t\t\trouter.push(\"/auth/signin\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetErrorMessage(\"\");\r\n\t\tsetApplicationStatus(\"idle\");\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(`/api/jobs/${jobId}/apply`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t});\r\n\t\t\tsetApplicationStatus(\"success\");\r\n\t\t} catch (error) {\r\n\t\t\tif (error instanceof Error) {\r\n\t\t\t\tsetErrorMessage(error.message);\r\n\t\t\t} else {\r\n\t\t\t\tsetErrorMessage(\"Failed to Apply for the job\");\r\n\t\t\t}\r\n\t\t\tsetApplicationStatus(\"error\");\r\n\t\t}\r\n\t};\r\n\r\n\tif (status === \"loading\") {\r\n\t\treturn <button disabled={true}>Loading...</button>;\r\n\t}\r\n\r\n\tif (applicationStatus === \"success\") {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p>Application Submitted Successfully!</p>\r\n\t\t\t\t<Link href={\"/dashboard\"}>View Your Applications</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button onClick={handleApply}>Apply for this job</button>\r\n\t\t\t{applicationStatus === \"error\" && <p>{errorMessage}</p>}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ApplyButton;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,MAAM,cAAc,CAAC,EAAE,KAAK,EAAqB;IAChD,MAAM,SAAS,CAAA,GAAA,8HAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IACzD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAEvD;IACF,MAAM,cAAc;QACnB,IAAI,CAAC,SAAS;YACb,OAAO,IAAI,CAAC;YACZ;QACD;QACA,gBAAgB;QAChB,qBAAqB;QACrB,IAAI;YACH,MAAM,WAAW,MAAM,MAAM,CAAC,UAAU,EAAE,MAAM,MAAM,CAAC,EAAE;gBACxD,QAAQ;YACT;YACA,qBAAqB;QACtB,EAAE,OAAO,OAAO;YACf,IAAI,iBAAiB,OAAO;gBAC3B,gBAAgB,MAAM,OAAO;YAC9B,OAAO;gBACN,gBAAgB;YACjB;YACA,qBAAqB;QACtB;IACD;IAEA,IAAI,WAAW,WAAW;QACzB,qBAAO,8OAAC;YAAO,UAAU;sBAAM;;;;;;IAChC;IAEA,IAAI,sBAAsB,WAAW;QACpC,qBACC,8OAAC;;8BACA,8OAAC;8BAAE;;;;;;8BACH,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAM;8BAAc;;;;;;;;;;;;IAG7B;IACA,qBACC;;0BACC,8OAAC;gBAAO,SAAS;0BAAa;;;;;;YAC7B,sBAAsB,yBAAW,8OAAC;0BAAG;;;;;;;;AAGzC;uCAEe","debugId":null}}]
}